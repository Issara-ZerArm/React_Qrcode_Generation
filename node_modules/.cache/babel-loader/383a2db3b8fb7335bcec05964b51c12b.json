{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * RSS util functions.\n */\n\nvar RSSUtils =\n/** @class */\nfunction () {\n  function RSSUtils() {}\n\n  RSSUtils.prototype.RSSUtils = function () {};\n\n  RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {\n    var e_1, _a;\n\n    var n = 0;\n\n    try {\n      for (var widths_1 = __values(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {\n        var width = widths_1_1.value;\n        n += width;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    var val = 0;\n    var narrowMask = 0;\n    var elements = widths.length;\n\n    for (var bar = 0; bar < elements - 1; bar++) {\n      var elmWidth = void 0;\n\n      for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {\n        var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);\n\n        if (noNarrow && narrowMask === 0 && n - elmWidth - (elements - bar - 1) >= elements - bar - 1) {\n          subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);\n        }\n\n        if (elements - bar - 1 > 1) {\n          var lessVal = 0;\n\n          for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {\n            lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);\n          }\n\n          subVal -= lessVal * (elements - 1 - bar);\n        } else if (n - elmWidth > maxWidth) {\n          subVal--;\n        }\n\n        val += subVal;\n      }\n\n      n -= elmWidth;\n    }\n\n    return val;\n  };\n\n  RSSUtils.combins = function (n, r) {\n    var maxDenom;\n    var minDenom;\n\n    if (n - r > r) {\n      minDenom = r;\n      maxDenom = n - r;\n    } else {\n      minDenom = n - r;\n      maxDenom = r;\n    }\n\n    var val = 1;\n    var j = 1;\n\n    for (var i = n; i > maxDenom; i--) {\n      val *= i;\n\n      if (j <= minDenom) {\n        val /= j;\n        j++;\n      }\n    }\n\n    while (j <= minDenom) {\n      val /= j;\n      j++;\n    }\n\n    return val;\n  };\n\n  return RSSUtils;\n}();\n\nexports.default = RSSUtils;","map":{"version":3,"mappings":"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","names":["RSSUtils","widths","maxWidth","noNarrow","n","widths_1_1","width","val","narrowMask","elements","length","bar","elmWidth","subVal","combins","lessVal","mxwElement","r","maxDenom","minDenom","j","i"],"sources":["../../../../src/core/oned/rss/RSSUtils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}