{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar FormatException_1 = require(\"../../../../FormatException\");\n\nvar IllegalStateException_1 = require(\"../../../../IllegalStateException\");\n\nvar StringBuilder_1 = require(\"../../../../util/StringBuilder\");\n\nvar DecodedChar_1 = require(\"./DecodedChar\");\n\nvar DecodedNumeric_1 = require(\"./DecodedNumeric\");\n\nvar DecodedInformation_1 = require(\"./DecodedInformation\");\n\nvar FieldParser_1 = require(\"./FieldParser\");\n\nvar BlockParsedResult_1 = require(\"./BlockParsedResult\");\n\nvar GeneralAppIdDecoder =\n/** @class */\nfunction () {\n  function GeneralAppIdDecoder(information) {\n    this.buffer = new StringBuilder_1.default();\n    this.information = information;\n  }\n\n  GeneralAppIdDecoder.prototype.decodeAllCodes = function (buff, initialPosition) {\n    var currentPosition = initialPosition;\n    var remaining = null;\n\n    do {\n      var info = this.decodeGeneralPurposeField(currentPosition, remaining);\n      var parsedFields = FieldParser_1.default.parseFieldsInGeneralPurpose(info.getNewString());\n\n      if (parsedFields != null) {\n        buff.append(parsedFields);\n      }\n\n      if (info.isRemaining()) {\n        remaining = \"\" + info.getRemainingValue();\n      } else {\n        remaining = null;\n      }\n\n      if (currentPosition == info.getNewPosition()) {\n        // No step forward!\n        break;\n      }\n\n      currentPosition = info.getNewPosition();\n    } while (true);\n\n    return buff.toString();\n  };\n\n  GeneralAppIdDecoder.prototype.isStillNumeric = function (pos) {\n    // It's numeric if it still has 7 positions\n    // and one of the first 4 bits is \"1\".\n    if (pos + 7 > this.information.getSize()) {\n      return pos + 4 <= this.information.getSize();\n    }\n\n    for (var i = pos; i < pos + 3; ++i) {\n      if (this.information.get(i)) {\n        return true;\n      }\n    }\n\n    return this.information.get(pos + 3);\n  };\n\n  GeneralAppIdDecoder.prototype.decodeNumeric = function (pos) {\n    if (pos + 7 > this.information.getSize()) {\n      var numeric_1 = this.extractNumericValueFromBitArray(pos, 4);\n\n      if (numeric_1 == 0) {\n        return new DecodedNumeric_1.default(this.information.getSize(), DecodedNumeric_1.default.FNC1, DecodedNumeric_1.default.FNC1);\n      }\n\n      return new DecodedNumeric_1.default(this.information.getSize(), numeric_1 - 1, DecodedNumeric_1.default.FNC1);\n    }\n\n    var numeric = this.extractNumericValueFromBitArray(pos, 7);\n    var digit1 = (numeric - 8) / 11;\n    var digit2 = (numeric - 8) % 11;\n    return new DecodedNumeric_1.default(pos + 7, digit1, digit2);\n  };\n\n  GeneralAppIdDecoder.prototype.extractNumericValueFromBitArray = function (pos, bits) {\n    return GeneralAppIdDecoder.extractNumericValueFromBitArray(this.information, pos, bits);\n  };\n\n  GeneralAppIdDecoder.extractNumericValueFromBitArray = function (information, pos, bits) {\n    var value = 0;\n\n    for (var i = 0; i < bits; ++i) {\n      if (information.get(pos + i)) {\n        value |= 1 << bits - i - 1;\n      }\n    }\n\n    return value;\n  };\n\n  GeneralAppIdDecoder.prototype.decodeGeneralPurposeField = function (pos, remaining) {\n    //this.buffer.setLength(0);\n    this.buffer.setLengthToZero();\n\n    if (remaining != null) {\n      this.buffer.append(remaining);\n    }\n\n    this.current.setPosition(pos);\n    var lastDecoded = this.parseBlocks();\n\n    if (lastDecoded != null && lastDecoded.isRemaining()) {\n      return new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString(), lastDecoded.getRemainingValue());\n    }\n\n    return new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n  };\n\n  GeneralAppIdDecoder.prototype.parseBlocks = function () {\n    var isFinished;\n    var result;\n\n    do {\n      var initialPosition = this.current.getPosition();\n\n      if (this.current.isAlpha()) {\n        result = this.parseAlphaBlock();\n        isFinished = result.isFinished();\n      } else if (this.current.isIsoIec646()) {\n        result = this.parseIsoIec646Block();\n        isFinished = result.isFinished();\n      } else {\n        // it must be numeric\n        result = this.parseNumericBlock();\n        isFinished = result.isFinished();\n      }\n\n      var positionChanged = initialPosition != this.current.getPosition();\n\n      if (!positionChanged && !isFinished) {\n        break;\n      }\n    } while (!isFinished);\n\n    return result.getDecodedInformation();\n  };\n\n  GeneralAppIdDecoder.prototype.parseNumericBlock = function () {\n    while (this.isStillNumeric(this.current.getPosition())) {\n      var numeric = this.decodeNumeric(this.current.getPosition());\n      this.current.setPosition(numeric.getNewPosition());\n\n      if (numeric.isFirstDigitFNC1()) {\n        var information = void 0;\n\n        if (numeric.isSecondDigitFNC1()) {\n          information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        } else {\n          information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString(), numeric.getSecondDigit());\n        }\n\n        return new BlockParsedResult_1.default(true, information);\n      }\n\n      this.buffer.append(numeric.getFirstDigit());\n\n      if (numeric.isSecondDigitFNC1()) {\n        var information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult_1.default(true, information);\n      }\n\n      this.buffer.append(numeric.getSecondDigit());\n    }\n\n    if (this.isNumericToAlphaNumericLatch(this.current.getPosition())) {\n      this.current.setAlpha();\n      this.current.incrementPosition(4);\n    }\n\n    return new BlockParsedResult_1.default(false);\n  };\n\n  GeneralAppIdDecoder.prototype.parseIsoIec646Block = function () {\n    while (this.isStillIsoIec646(this.current.getPosition())) {\n      var iso = this.decodeIsoIec646(this.current.getPosition());\n      this.current.setPosition(iso.getNewPosition());\n\n      if (iso.isFNC1()) {\n        var information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult_1.default(true, information);\n      }\n\n      this.buffer.append(iso.getValue());\n    }\n\n    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {\n      this.current.incrementPosition(3);\n      this.current.setNumeric();\n    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {\n      if (this.current.getPosition() + 5 < this.information.getSize()) {\n        this.current.incrementPosition(5);\n      } else {\n        this.current.setPosition(this.information.getSize());\n      }\n\n      this.current.setAlpha();\n    }\n\n    return new BlockParsedResult_1.default(false);\n  };\n\n  GeneralAppIdDecoder.prototype.parseAlphaBlock = function () {\n    while (this.isStillAlpha(this.current.getPosition())) {\n      var alpha = this.decodeAlphanumeric(this.current.getPosition());\n      this.current.setPosition(alpha.getNewPosition());\n\n      if (alpha.isFNC1()) {\n        var information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult_1.default(true, information); //end of the char block\n      }\n\n      this.buffer.append(alpha.getValue());\n    }\n\n    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {\n      this.current.incrementPosition(3);\n      this.current.setNumeric();\n    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {\n      if (this.current.getPosition() + 5 < this.information.getSize()) {\n        this.current.incrementPosition(5);\n      } else {\n        this.current.setPosition(this.information.getSize());\n      }\n\n      this.current.setIsoIec646();\n    }\n\n    return new BlockParsedResult_1.default(false);\n  };\n\n  GeneralAppIdDecoder.prototype.isStillIsoIec646 = function (pos) {\n    if (pos + 5 > this.information.getSize()) {\n      return false;\n    }\n\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n\n    if (fiveBitValue >= 5 && fiveBitValue < 16) {\n      return true;\n    }\n\n    if (pos + 7 > this.information.getSize()) {\n      return false;\n    }\n\n    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);\n\n    if (sevenBitValue >= 64 && sevenBitValue < 116) {\n      return true;\n    }\n\n    if (pos + 8 > this.information.getSize()) {\n      return false;\n    }\n\n    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);\n    return eightBitValue >= 232 && eightBitValue < 253;\n  };\n\n  GeneralAppIdDecoder.prototype.decodeIsoIec646 = function (pos) {\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n\n    if (fiveBitValue == 15) {\n      return new DecodedChar_1.default(pos + 5, DecodedChar_1.default.FNC1);\n    }\n\n    if (fiveBitValue >= 5 && fiveBitValue < 15) {\n      return new DecodedChar_1.default(pos + 5, '0' + (fiveBitValue - 5));\n    }\n\n    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);\n\n    if (sevenBitValue >= 64 && sevenBitValue < 90) {\n      return new DecodedChar_1.default(pos + 7, \"\" + (sevenBitValue + 1));\n    }\n\n    if (sevenBitValue >= 90 && sevenBitValue < 116) {\n      return new DecodedChar_1.default(pos + 7, \"\" + (sevenBitValue + 7));\n    }\n\n    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);\n    var c;\n\n    switch (eightBitValue) {\n      case 232:\n        c = '!';\n        break;\n\n      case 233:\n        c = '\"';\n        break;\n\n      case 234:\n        c = '%';\n        break;\n\n      case 235:\n        c = '&';\n        break;\n\n      case 236:\n        c = '\\'';\n        break;\n\n      case 237:\n        c = '(';\n        break;\n\n      case 238:\n        c = ')';\n        break;\n\n      case 239:\n        c = '*';\n        break;\n\n      case 240:\n        c = '+';\n        break;\n\n      case 241:\n        c = ',';\n        break;\n\n      case 242:\n        c = '-';\n        break;\n\n      case 243:\n        c = '.';\n        break;\n\n      case 244:\n        c = '/';\n        break;\n\n      case 245:\n        c = ':';\n        break;\n\n      case 246:\n        c = ';';\n        break;\n\n      case 247:\n        c = '<';\n        break;\n\n      case 248:\n        c = '=';\n        break;\n\n      case 249:\n        c = '>';\n        break;\n\n      case 250:\n        c = '?';\n        break;\n\n      case 251:\n        c = '_';\n        break;\n\n      case 252:\n        c = ' ';\n        break;\n\n      default:\n        throw new FormatException_1.default();\n    }\n\n    return new DecodedChar_1.default(pos + 8, c);\n  };\n\n  GeneralAppIdDecoder.prototype.isStillAlpha = function (pos) {\n    if (pos + 5 > this.information.getSize()) {\n      return false;\n    } // We now check if it's a valid 5-bit value (0..9 and FNC1)\n\n\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n\n    if (fiveBitValue >= 5 && fiveBitValue < 16) {\n      return true;\n    }\n\n    if (pos + 6 > this.information.getSize()) {\n      return false;\n    }\n\n    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);\n    return sixBitValue >= 16 && sixBitValue < 63; // 63 not included\n  };\n\n  GeneralAppIdDecoder.prototype.decodeAlphanumeric = function (pos) {\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n\n    if (fiveBitValue == 15) {\n      return new DecodedChar_1.default(pos + 5, DecodedChar_1.default.FNC1);\n    }\n\n    if (fiveBitValue >= 5 && fiveBitValue < 15) {\n      return new DecodedChar_1.default(pos + 5, '0' + (fiveBitValue - 5));\n    }\n\n    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);\n\n    if (sixBitValue >= 32 && sixBitValue < 58) {\n      return new DecodedChar_1.default(pos + 6, '' + (sixBitValue + 33));\n    }\n\n    var c;\n\n    switch (sixBitValue) {\n      case 58:\n        c = '*';\n        break;\n\n      case 59:\n        c = ',';\n        break;\n\n      case 60:\n        c = '-';\n        break;\n\n      case 61:\n        c = '.';\n        break;\n\n      case 62:\n        c = '/';\n        break;\n\n      default:\n        throw new IllegalStateException_1.default(\"Decoding invalid alphanumeric value: \" + sixBitValue);\n    }\n\n    return new DecodedChar_1.default(pos + 6, c);\n  };\n\n  GeneralAppIdDecoder.prototype.isAlphaTo646ToAlphaLatch = function (pos) {\n    if (pos + 1 > this.information.getSize()) {\n      return false;\n    }\n\n    for (var i = 0; i < 5 && i + pos < this.information.getSize(); ++i) {\n      if (i == 2) {\n        if (!this.information.get(pos + 2)) {\n          return false;\n        }\n      } else if (this.information.get(pos + i)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  GeneralAppIdDecoder.prototype.isAlphaOr646ToNumericLatch = function (pos) {\n    // Next is alphanumeric if there are 3 positions and they are all zeros\n    if (pos + 3 > this.information.getSize()) {\n      return false;\n    }\n\n    for (var i = pos; i < pos + 3; ++i) {\n      if (this.information.get(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  GeneralAppIdDecoder.prototype.isNumericToAlphaNumericLatch = function (pos) {\n    // Next is alphanumeric if there are 4 positions and they are all zeros, or\n    // if there is a subset of this just before the end of the symbol\n    if (pos + 1 > this.information.getSize()) {\n      return false;\n    }\n\n    for (var i = 0; i < 4 && i + pos < this.information.getSize(); ++i) {\n      if (this.information.get(pos + i)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return GeneralAppIdDecoder;\n}();\n\nexports.default = GeneralAppIdDecoder;","map":{"version":3,"mappings":";;;;;;AAAA;;AAEA;;AAGA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;AAAA;AAAA;AAKE,+BAAYA,WAAZ,EAAiC;AAFhB,kBAAS,IAAIC,uBAAJ,EAAT;AAGf,SAAKD,WAAL,GAAmBA,WAAnB;AACD;;AACFE,2DAAeC,IAAf,EAAkCC,eAAlC,EAAwD;AACrD,QAAIC,eAAe,GAAGD,eAAtB;AACA,QAAIE,SAAS,GAAG,IAAhB;;AACA,OAAG;AACD,UAAIC,IAAI,GAAG,KAAKC,yBAAL,CAA+BH,eAA/B,EAAgDC,SAAhD,CAAX;AACA,UAAIG,YAAY,GAAGC,sBAAYC,2BAAZ,CAAwCJ,IAAI,CAACK,YAAL,EAAxC,CAAnB;;AACA,UAAIH,YAAY,IAAI,IAApB,EAA0B;AACxBN,YAAI,CAACU,MAAL,CAAYJ,YAAZ;AACD;;AACD,UAAIF,IAAI,CAACO,WAAL,EAAJ,EAAwB;AACtBR,iBAAS,GAAG,KAAGC,IAAI,CAACQ,iBAAL,EAAf;AACD,OAFD,MAEO;AACLT,iBAAS,GAAG,IAAZ;AACD;;AAED,UAAID,eAAe,IAAIE,IAAI,CAACS,cAAL,EAAvB,EAA8C;AAAE;AAC9C;AACD;;AACDX,qBAAe,GAAGE,IAAI,CAACS,cAAL,EAAlB;AACD,KAhBD,QAgBS,IAhBT;;AAkBA,WAAOb,IAAI,CAACc,QAAL,EAAP;AACD,GAtBF;;AAwBSf,iDAAR,UAAuBgB,GAAvB,EAAiC;AAC/B;AACA;AACA,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAOD,GAAG,GAAG,CAAN,IAAW,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAlB;AACD;;AAED,SAAK,IAAIC,CAAC,GAAGF,GAAb,EAAkBE,CAAC,GAAGF,GAAG,GAAG,CAA5B,EAA+B,EAAEE,CAAjC,EAAoC;AAClC,UAAI,KAAKpB,WAAL,CAAiBqB,GAAjB,CAAqBD,CAArB,CAAJ,EAA6B;AAC3B,eAAO,IAAP;AACD;AACF;;AAED,WAAO,KAAKpB,WAAL,CAAiBqB,GAAjB,CAAqBH,GAAG,GAAG,CAA3B,CAAP;AACD,GAdO;;AAgBChB,gDAAT,UAAuBgB,GAAvB,EAAiC;AAC/B,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,UAAIG,SAAO,GAAG,KAAKC,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAd;;AACA,UAAII,SAAO,IAAI,CAAf,EAAkB;AAChB,eAAO,IAAIE,wBAAJ,CAAmB,KAAKxB,WAAL,CAAiBmB,OAAjB,EAAnB,EAA+CK,yBAAeC,IAA9D,EAAoED,yBAAeC,IAAnF,CAAP;AACD;;AACD,aAAO,IAAID,wBAAJ,CAAmB,KAAKxB,WAAL,CAAiBmB,OAAjB,EAAnB,EAA+CG,SAAO,GAAG,CAAzD,EAA4DE,yBAAeC,IAA3E,CAAP;AACD;;AACD,QAAIC,OAAO,GAAG,KAAKH,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAd;AAEA,QAAIS,MAAM,GAAI,CAACD,OAAO,GAAG,CAAX,IAAgB,EAA9B;AACA,QAAIE,MAAM,GAAI,CAACF,OAAO,GAAG,CAAX,IAAgB,EAA9B;AAEA,WAAO,IAAIF,wBAAJ,CAAmBN,GAAG,GAAG,CAAzB,EAA4BS,MAA5B,EAAoCC,MAApC,CAAP;AACD,GAdQ;;AAgBV1B,4EAAgCgB,GAAhC,EAA2CW,IAA3C,EAAsD;AACnD,WAAO3B,mBAAmB,CAACqB,+BAApB,CAAoD,KAAKvB,WAAzD,EAAsEkB,GAAtE,EAA2EW,IAA3E,CAAP;AACD,GAFF;;AAIQ3B,wDAAP,UAAuCF,WAAvC,EAA6DkB,GAA7D,EAAwEW,IAAxE,EAAmF;AACjF,QAAIC,KAAK,GAAG,CAAZ;;AACA,SAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGS,IAApB,EAA0B,EAAET,CAA5B,EAA+B;AAC7B,UAAIpB,WAAW,CAACqB,GAAZ,CAAgBH,GAAG,GAAGE,CAAtB,CAAJ,EAA8B;AAC5BU,aAAK,IAAI,KAAMD,IAAI,GAAGT,CAAP,GAAW,CAA1B;AACD;AACF;;AAED,WAAOU,KAAP;AACD,GATM;;AAWN5B,sEAA0BgB,GAA1B,EAAsCZ,SAAtC,EAAsD;AACrD;AACC,SAAKyB,MAAL,CAAYC,eAAZ;;AAED,QAAI1B,SAAS,IAAI,IAAjB,EAAuB;AACrB,WAAKyB,MAAL,CAAYlB,MAAZ,CAAmBP,SAAnB;AACD;;AAED,SAAK2B,OAAL,CAAaC,WAAb,CAAyBhB,GAAzB;AAEA,QAAIiB,WAAW,GAAG,KAAKC,WAAL,EAAlB;;AACA,QAAID,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAACrB,WAAZ,EAA3B,EAAsD;AACpD,aAAO,IAAIuB,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,EAA2EkB,WAAW,CAACpB,iBAAZ,EAA3E,CAAP;AACD;;AACD,WAAO,IAAIsB,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,CAAP;AACD,GAfA;;AAiBQf,8CAAT;AACE,QAAIqC,UAAJ;AACA,QAAIC,MAAJ;;AACA,OAAG;AACD,UAAIpC,eAAe,GAAG,KAAK6B,OAAL,CAAaK,WAAb,EAAtB;;AAEA,UAAI,KAAKL,OAAL,CAAaQ,OAAb,EAAJ,EAA4B;AAC1BD,cAAM,GAAG,KAAKE,eAAL,EAAT;AACAH,kBAAU,GAAGC,MAAM,CAACD,UAAP,EAAb;AACD,OAHD,MAGO,IAAI,KAAKN,OAAL,CAAaU,WAAb,EAAJ,EAAgC;AACrCH,cAAM,GAAG,KAAKI,mBAAL,EAAT;AACAL,kBAAU,GAAGC,MAAM,CAACD,UAAP,EAAb;AACD,OAHM,MAGA;AAAE;AACPC,cAAM,GAAG,KAAKK,iBAAL,EAAT;AACAN,kBAAU,GAAGC,MAAM,CAACD,UAAP,EAAb;AACD;;AAED,UAAIO,eAAe,GAAW1C,eAAe,IAAI,KAAK6B,OAAL,CAAaK,WAAb,EAAjD;;AACA,UAAI,CAACQ,eAAD,IAAoB,CAACP,UAAzB,EAAqC;AACnC;AACD;AACF,KAlBD,QAkBS,CAACA,UAlBV;;AAoBA,WAAOC,MAAM,CAACO,qBAAP,EAAP;AACD,GAxBQ;;AA0BA7C,oDAAT;AACE,WAAO,KAAK8C,cAAL,CAAoB,KAAKf,OAAL,CAAaK,WAAb,EAApB,CAAP,EAAwD;AACrD,UAAIZ,OAAO,GAAkB,KAAKuB,aAAL,CAAmB,KAAKhB,OAAL,CAAaK,WAAb,EAAnB,CAA7B;AACA,WAAKL,OAAL,CAAaC,WAAb,CAAyBR,OAAO,CAACV,cAAR,EAAzB;;AAED,UAAIU,OAAO,CAACwB,gBAAR,EAAJ,EAAgC;AAC/B,YAAIlD,WAAW,SAAf;;AACC,YAAI0B,OAAO,CAACyB,iBAAR,EAAJ,EAAiC;AAC/BnD,qBAAW,GAAG,IAAIqC,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,CAAd;AACD,SAFD,MAEO;AACLjB,qBAAW,GAAG,IAAIqC,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,EAA2ES,OAAO,CAAC0B,cAAR,EAA3E,CAAd;AACD;;AACD,eAAO,IAAIC,2BAAJ,CAAsB,IAAtB,EAA2BrD,WAA3B,CAAP;AACD;;AACD,WAAK+B,MAAL,CAAYlB,MAAZ,CAAmBa,OAAO,CAAC4B,aAAR,EAAnB;;AAEA,UAAI5B,OAAO,CAACyB,iBAAR,EAAJ,EAAiC;AAC/B,YAAInD,WAAW,GAAG,IAAIqC,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,CAAlB;AACA,eAAO,IAAIoC,2BAAJ,CAAsB,IAAtB,EAA4BrD,WAA5B,CAAP;AACD;;AACD,WAAK+B,MAAL,CAAYlB,MAAZ,CAAmBa,OAAO,CAAC0B,cAAR,EAAnB;AACD;;AAED,QAAI,KAAKG,4BAAL,CAAkC,KAAKtB,OAAL,CAAaK,WAAb,EAAlC,CAAJ,EAAmE;AACjE,WAAKL,OAAL,CAAauB,QAAb;AACA,WAAKvB,OAAL,CAAawB,iBAAb,CAA+B,CAA/B;AACD;;AACD,WAAO,IAAIJ,2BAAJ,CAAsB,KAAtB,CAAP;AACD,GA5BQ;;AA8BAnD,sDAAT;AACE,WAAO,KAAKwD,gBAAL,CAAsB,KAAKzB,OAAL,CAAaK,WAAb,EAAtB,CAAP,EAA0D;AACxD,UAAIqB,GAAG,GAAG,KAAKC,eAAL,CAAqB,KAAK3B,OAAL,CAAaK,WAAb,EAArB,CAAV;AACA,WAAKL,OAAL,CAAaC,WAAb,CAAyByB,GAAG,CAAC3C,cAAJ,EAAzB;;AAEA,UAAI2C,GAAG,CAACE,MAAJ,EAAJ,EAAkB;AAChB,YAAI7D,WAAW,GAAG,IAAIqC,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,CAAlB;AACA,eAAO,IAAIoC,2BAAJ,CAAsB,IAAtB,EAA2BrD,WAA3B,CAAP;AACD;;AACD,WAAK+B,MAAL,CAAYlB,MAAZ,CAAmB8C,GAAG,CAACG,QAAJ,EAAnB;AACD;;AAED,QAAI,KAAKC,0BAAL,CAAgC,KAAK9B,OAAL,CAAaK,WAAb,EAAhC,CAAJ,EAAiE;AAC/D,WAAKL,OAAL,CAAawB,iBAAb,CAA+B,CAA/B;AACA,WAAKxB,OAAL,CAAa+B,UAAb;AACD,KAHD,MAGO,IAAI,KAAKC,wBAAL,CAA8B,KAAKhC,OAAL,CAAaK,WAAb,EAA9B,CAAJ,EAA+D;AACpE,UAAI,KAAKL,OAAL,CAAaK,WAAb,KAA6B,CAA7B,GAAiC,KAAKtC,WAAL,CAAiBmB,OAAjB,EAArC,EAAiE;AAC/D,aAAKc,OAAL,CAAawB,iBAAb,CAA+B,CAA/B;AACD,OAFD,MAEO;AACL,aAAKxB,OAAL,CAAaC,WAAb,CAAyB,KAAKlC,WAAL,CAAiBmB,OAAjB,EAAzB;AACD;;AAED,WAAKc,OAAL,CAAauB,QAAb;AACD;;AACD,WAAO,IAAIH,2BAAJ,CAAsB,KAAtB,CAAP;AACD,GAzBQ;;AA2BAnD,kDAAT;AACE,WAAO,KAAKgE,YAAL,CAAkB,KAAKjC,OAAL,CAAaK,WAAb,EAAlB,CAAP,EAAsD;AACpD,UAAI6B,KAAK,GAAG,KAAKC,kBAAL,CAAwB,KAAKnC,OAAL,CAAaK,WAAb,EAAxB,CAAZ;AACA,WAAKL,OAAL,CAAaC,WAAb,CAAyBiC,KAAK,CAACnD,cAAN,EAAzB;;AAEA,UAAImD,KAAK,CAACN,MAAN,EAAJ,EAAoB;AAClB,YAAI7D,WAAW,GAAG,IAAIqC,4BAAJ,CAAuB,KAAKJ,OAAL,CAAaK,WAAb,EAAvB,EAAmD,KAAKP,MAAL,CAAYd,QAAZ,EAAnD,CAAlB;AACA,eAAO,IAAIoC,2BAAJ,CAAsB,IAAtB,EAA2BrD,WAA3B,CAAP,CAFkB,CAE8B;AACjD;;AAED,WAAK+B,MAAL,CAAYlB,MAAZ,CAAmBsD,KAAK,CAACL,QAAN,EAAnB;AACD;;AAED,QAAI,KAAKC,0BAAL,CAAgC,KAAK9B,OAAL,CAAaK,WAAb,EAAhC,CAAJ,EAAiE;AAC/D,WAAKL,OAAL,CAAawB,iBAAb,CAA+B,CAA/B;AACA,WAAKxB,OAAL,CAAa+B,UAAb;AACD,KAHD,MAGO,IAAI,KAAKC,wBAAL,CAA8B,KAAKhC,OAAL,CAAaK,WAAb,EAA9B,CAAJ,EAA+D;AACpE,UAAI,KAAKL,OAAL,CAAaK,WAAb,KAA6B,CAA7B,GAAiC,KAAKtC,WAAL,CAAiBmB,OAAjB,EAArC,EAAiE;AAC/D,aAAKc,OAAL,CAAawB,iBAAb,CAA+B,CAA/B;AACD,OAFD,MAEO;AACL,aAAKxB,OAAL,CAAaC,WAAb,CAAyB,KAAKlC,WAAL,CAAiBmB,OAAjB,EAAzB;AACD;;AAED,WAAKc,OAAL,CAAaoC,YAAb;AACD;;AACD,WAAO,IAAIhB,2BAAJ,CAAsB,KAAtB,CAAP;AACD,GA1BQ;;AA4BAnD,mDAAT,UAA0BgB,GAA1B,EAAoC;AAClC,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,QAAImD,YAAY,GAAG,KAAK/C,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAnB;;AACA,QAAIoD,YAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAG,EAAxC,EAA4C;AAC1C,aAAO,IAAP;AACD;;AAED,QAAIpD,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,QAAIoD,aAAa,GAAG,KAAKhD,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAApB;;AACA,QAAIqD,aAAa,IAAI,EAAjB,IAAuBA,aAAa,GAAG,GAA3C,EAAgD;AAC9C,aAAO,IAAP;AACD;;AAED,QAAIrD,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,QAAIqD,aAAa,GAAG,KAAKjD,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAApB;AACA,WAAOsD,aAAa,IAAI,GAAjB,IAAwBA,aAAa,GAAG,GAA/C;AAED,GA1BQ;;AA4BAtE,kDAAT,UAAyBgB,GAAzB,EAAmC;AACjC,QAAIoD,YAAY,GAAG,KAAK/C,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAnB;;AACA,QAAIoD,YAAY,IAAI,EAApB,EAAwB;AACtB,aAAO,IAAIG,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAAyBuD,sBAAYhD,IAArC,CAAP;AACD;;AAED,QAAI6C,YAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAG,EAAxC,EAA4C;AAC1C,aAAO,IAAIG,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAA0B,OAAOoD,YAAY,GAAG,CAAtB,CAA1B,CAAP;AACD;;AAED,QAAIC,aAAa,GAAG,KAAKhD,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAApB;;AAEA,QAAIqD,aAAa,IAAI,EAAjB,IAAuBA,aAAa,GAAG,EAA3C,EAA+C;AAC7C,aAAO,IAAIE,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAA0B,MAAIqD,aAAa,GAAG,CAApB,CAA1B,CAAP;AACD;;AAED,QAAIA,aAAa,IAAI,EAAjB,IAAuBA,aAAa,GAAG,GAA3C,EAAgD;AAC9C,aAAO,IAAIE,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAA0B,MAAIqD,aAAa,GAAG,CAApB,CAA1B,CAAP;AACD;;AAED,QAAIC,aAAa,GAAG,KAAKjD,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAApB;AACA,QAAIwD,CAAJ;;AACA,YAAQF,aAAR;AACE,WAAK,GAAL;AACEE,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,IAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,GAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF;AACE,cAAM,IAAIC,yBAAJ,EAAN;AAjEJ;;AAmEA,WAAO,IAAIF,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAAyBwD,CAAzB,CAAP;AACD,GA1FQ;;AA4FAxE,+CAAT,UAAsBgB,GAAtB,EAAgC;AAC9B,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD,KAH6B,CAK9B;;;AACA,QAAImD,YAAY,GAAG,KAAK/C,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAnB;;AACA,QAAIoD,YAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAG,EAAxC,EAA4C;AAC1C,aAAO,IAAP;AACD;;AAED,QAAIpD,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,QAAIyD,WAAW,GAAI,KAAKrD,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAnB;AACA,WAAO0D,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAA1C,CAhB8B,CAgBgB;AAC/C,GAjBQ;;AAmBA1E,qDAAT,UAA4BgB,GAA5B,EAAsC;AACpC,QAAIoD,YAAY,GAAG,KAAK/C,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAnB;;AACA,QAAIoD,YAAY,IAAI,EAApB,EAAwB;AACtB,aAAO,IAAIG,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAAyBuD,sBAAYhD,IAArC,CAAP;AACD;;AAED,QAAI6C,YAAY,IAAI,CAAhB,IAAqBA,YAAY,GAAG,EAAxC,EAA4C;AAC1C,aAAO,IAAIG,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAA0B,OAAOoD,YAAY,GAAG,CAAtB,CAA1B,CAAP;AACD;;AAED,QAAIM,WAAW,GAAI,KAAKrD,+BAAL,CAAqCL,GAArC,EAA0C,CAA1C,CAAnB;;AAEA,QAAI0D,WAAW,IAAI,EAAf,IAAqBA,WAAW,GAAG,EAAvC,EAA2C;AACzC,aAAO,IAAIH,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAA0B,MAAK0D,WAAW,GAAG,EAAnB,CAA1B,CAAP;AACD;;AAED,QAAIF,CAAJ;;AACA,YAAQE,WAAR;AACE,WAAK,EAAL;AACEF,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,EAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,EAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,EAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF,WAAK,EAAL;AACEA,SAAC,GAAG,GAAJ;AACA;;AACF;AACE,cAAM,IAAIG,+BAAJ,CAA0B,0CAA0CD,WAApE,CAAN;AAjBJ;;AAmBA,WAAO,IAAIH,qBAAJ,CAAgBvD,GAAG,GAAG,CAAtB,EAAyBwD,CAAzB,CAAP;AACD,GArCQ;;AAuCDxE,2DAAR,UAAiCgB,GAAjC,EAA2C;AACzC,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAGF,GAAJ,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAnC,EAA+D,EAAEC,CAAjE,EAAoE;AAClE,UAAIA,CAAC,IAAI,CAAT,EAAY;AACV,YAAI,CAAC,KAAKpB,WAAL,CAAiBqB,GAAjB,CAAqBH,GAAG,GAAG,CAA3B,CAAL,EAAoC;AAClC,iBAAO,KAAP;AACD;AACF,OAJD,MAIO,IAAI,KAAKlB,WAAL,CAAiBqB,GAAjB,CAAqBH,GAAG,GAAGE,CAA3B,CAAJ,EAAmC;AACxC,eAAO,KAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD,GAhBO;;AAkBClB,6DAAT,UAAoCgB,GAApC,EAA8C;AAC5C;AACA,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,SAAK,IAAIC,CAAC,GAAGF,GAAb,EAAkBE,CAAC,GAAGF,GAAG,GAAG,CAA5B,EAA+B,EAAEE,CAAjC,EAAoC;AAClC,UAAI,KAAKpB,WAAL,CAAiBqB,GAAjB,CAAqBD,CAArB,CAAJ,EAA6B;AAC3B,eAAO,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAZQ;;AAcAlB,+DAAT,UAAsCgB,GAAtC,EAAgD;AAC9C;AACA;AACA,QAAIA,GAAG,GAAG,CAAN,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAd,EAA0C;AACxC,aAAO,KAAP;AACD;;AAED,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAGF,GAAJ,GAAU,KAAKlB,WAAL,CAAiBmB,OAAjB,EAAnC,EAA+D,EAAEC,CAAjE,EAAoE;AAClE,UAAI,KAAKpB,WAAL,CAAiBqB,GAAjB,CAAqBH,GAAG,GAAGE,CAA3B,CAAJ,EAAmC;AACjC,eAAO,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAbQ;;AAgBX;AAAC,CAjbD","names":["information","StringBuilder_1","GeneralAppIdDecoder","buff","initialPosition","currentPosition","remaining","info","decodeGeneralPurposeField","parsedFields","FieldParser_1","parseFieldsInGeneralPurpose","getNewString","append","isRemaining","getRemainingValue","getNewPosition","toString","pos","getSize","i","get","numeric_1","extractNumericValueFromBitArray","DecodedNumeric_1","FNC1","numeric","digit1","digit2","bits","value","buffer","setLengthToZero","current","setPosition","lastDecoded","parseBlocks","DecodedInformation_1","getPosition","isFinished","result","isAlpha","parseAlphaBlock","isIsoIec646","parseIsoIec646Block","parseNumericBlock","positionChanged","getDecodedInformation","isStillNumeric","decodeNumeric","isFirstDigitFNC1","isSecondDigitFNC1","getSecondDigit","BlockParsedResult_1","getFirstDigit","isNumericToAlphaNumericLatch","setAlpha","incrementPosition","isStillIsoIec646","iso","decodeIsoIec646","isFNC1","getValue","isAlphaOr646ToNumericLatch","setNumeric","isAlphaTo646ToAlphaLatch","isStillAlpha","alpha","decodeAlphanumeric","setIsoIec646","fiveBitValue","sevenBitValue","eightBitValue","DecodedChar_1","c","FormatException_1","sixBitValue","IllegalStateException_1"],"sources":["../../../../../../src/core/oned/rss/expanded/decoders/GeneralAppIdDecoder.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}