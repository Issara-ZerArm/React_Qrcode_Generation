{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar AbstractRSSReader_1 = require(\"./AbstractRSSReader\");\n\nvar Pair_1 = require(\"./Pair\");\n\nvar Result_1 = require(\"../../Result\");\n\nvar DecodeHintType_1 = require(\"../../DecodeHintType\");\n\nvar NotFoundException_1 = require(\"../../NotFoundException\");\n\nvar StringBuilder_1 = require(\"../../util/StringBuilder\");\n\nvar BarcodeFormat_1 = require(\"../../BarcodeFormat\");\n\nvar ResultPoint_1 = require(\"../../ResultPoint\");\n\nvar FinderPattern_1 = require(\"./FinderPattern\");\n\nvar DataCharacter_1 = require(\"./DataCharacter\");\n\nvar MathUtils_1 = require(\"../../common/detector/MathUtils\");\n\nvar RSSUtils_1 = require(\"./RSSUtils\");\n\nvar System_1 = require(\"../../util/System\");\n\nvar OneDReader_1 = require(\"../OneDReader\");\n\nvar RSS14Reader =\n/** @class */\nfunction (_super) {\n  __extends(RSS14Reader, _super);\n\n  function RSS14Reader() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.possibleLeftPairs = [];\n    _this.possibleRightPairs = [];\n    return _this;\n  }\n\n  RSS14Reader.prototype.decodeRow = function (rowNumber, row, hints) {\n    var e_1, _a, e_2, _b;\n\n    var leftPair = this.decodePair(row, false, rowNumber, hints);\n    RSS14Reader.addOrTally(this.possibleLeftPairs, leftPair);\n    row.reverse();\n    var rightPair = this.decodePair(row, true, rowNumber, hints);\n    RSS14Reader.addOrTally(this.possibleRightPairs, rightPair);\n    row.reverse();\n\n    try {\n      for (var _c = __values(this.possibleLeftPairs), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var left = _d.value;\n\n        if (left.getCount() > 1) {\n          try {\n            for (var _e = __values(this.possibleRightPairs), _f = _e.next(); !_f.done; _f = _e.next()) {\n              var right = _f.value;\n\n              if (right.getCount() > 1 && RSS14Reader.checkChecksum(left, right)) {\n                return RSS14Reader.constructResult(left, right);\n              }\n            }\n          } catch (e_2_1) {\n            e_2 = {\n              error: e_2_1\n            };\n          } finally {\n            try {\n              if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            } finally {\n              if (e_2) throw e_2.error;\n            }\n          }\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    throw new NotFoundException_1.default();\n  };\n\n  RSS14Reader.addOrTally = function (possiblePairs, pair) {\n    var e_3, _a;\n\n    if (pair == null) {\n      return;\n    }\n\n    var found = false;\n\n    try {\n      for (var possiblePairs_1 = __values(possiblePairs), possiblePairs_1_1 = possiblePairs_1.next(); !possiblePairs_1_1.done; possiblePairs_1_1 = possiblePairs_1.next()) {\n        var other = possiblePairs_1_1.value;\n\n        if (other.getValue() === pair.getValue()) {\n          other.incrementCount();\n          found = true;\n          break;\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (possiblePairs_1_1 && !possiblePairs_1_1.done && (_a = possiblePairs_1.return)) _a.call(possiblePairs_1);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    if (!found) {\n      possiblePairs.push(pair);\n    }\n  };\n\n  RSS14Reader.prototype.reset = function () {\n    this.possibleLeftPairs.length = 0;\n    this.possibleRightPairs.length = 0;\n  };\n\n  RSS14Reader.constructResult = function (leftPair, rightPair) {\n    var symbolValue = 4537077 * leftPair.getValue() + rightPair.getValue();\n    var text = new String(symbolValue).toString();\n    var buffer = new StringBuilder_1.default();\n\n    for (var i = 13 - text.length; i > 0; i--) {\n      buffer.append('0');\n    }\n\n    buffer.append(text);\n    var checkDigit = 0;\n\n    for (var i = 0; i < 13; i++) {\n      var digit = buffer.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);\n      checkDigit += (i & 0x01) === 0 ? 3 * digit : digit;\n    }\n\n    checkDigit = 10 - checkDigit % 10;\n\n    if (checkDigit === 10) {\n      checkDigit = 0;\n    }\n\n    buffer.append(checkDigit.toString());\n    var leftPoints = leftPair.getFinderPattern().getResultPoints();\n    var rightPoints = rightPair.getFinderPattern().getResultPoints();\n    return new Result_1.default(buffer.toString(), null, 0, [leftPoints[0], leftPoints[1], rightPoints[0], rightPoints[1]], BarcodeFormat_1.default.RSS_14, new Date().getTime());\n  };\n\n  RSS14Reader.checkChecksum = function (leftPair, rightPair) {\n    var checkValue = (leftPair.getChecksumPortion() + 16 * rightPair.getChecksumPortion()) % 79;\n    var targetCheckValue = 9 * leftPair.getFinderPattern().getValue() + rightPair.getFinderPattern().getValue();\n\n    if (targetCheckValue > 72) {\n      targetCheckValue--;\n    }\n\n    if (targetCheckValue > 8) {\n      targetCheckValue--;\n    }\n\n    return checkValue === targetCheckValue;\n  };\n\n  RSS14Reader.prototype.decodePair = function (row, right, rowNumber, hints) {\n    try {\n      var startEnd = this.findFinderPattern(row, right);\n      var pattern = this.parseFoundFinderPattern(row, rowNumber, right, startEnd);\n      var resultPointCallback = hints == null ? null : hints.get(DecodeHintType_1.default.NEED_RESULT_POINT_CALLBACK);\n\n      if (resultPointCallback != null) {\n        var center = (startEnd[0] + startEnd[1]) / 2.0;\n\n        if (right) {\n          // row is actually reversed\n          center = row.getSize() - 1 - center;\n        }\n\n        resultPointCallback.foundPossibleResultPoint(new ResultPoint_1.default(center, rowNumber));\n      }\n\n      var outside = this.decodeDataCharacter(row, pattern, true);\n      var inside = this.decodeDataCharacter(row, pattern, false);\n      return new Pair_1.default(1597 * outside.getValue() + inside.getValue(), outside.getChecksumPortion() + 4 * inside.getChecksumPortion(), pattern);\n    } catch (err) {\n      return null;\n    }\n  };\n\n  RSS14Reader.prototype.decodeDataCharacter = function (row, pattern, outsideChar) {\n    var counters = this.getDataCharacterCounters();\n\n    for (var x = 0; x < counters.length; x++) {\n      counters[x] = 0;\n    }\n\n    if (outsideChar) {\n      OneDReader_1.default.recordPatternInReverse(row, pattern.getStartEnd()[0], counters);\n    } else {\n      OneDReader_1.default.recordPattern(row, pattern.getStartEnd()[1] + 1, counters); // reverse it\n\n      for (var i = 0, j = counters.length - 1; i < j; i++, j--) {\n        var temp = counters[i];\n        counters[i] = counters[j];\n        counters[j] = temp;\n      }\n    }\n\n    var numModules = outsideChar ? 16 : 15;\n    var elementWidth = MathUtils_1.default.sum(new Int32Array(counters)) / numModules;\n    var oddCounts = this.getOddCounts();\n    var evenCounts = this.getEvenCounts();\n    var oddRoundingErrors = this.getOddRoundingErrors();\n    var evenRoundingErrors = this.getEvenRoundingErrors();\n\n    for (var i = 0; i < counters.length; i++) {\n      var value = counters[i] / elementWidth;\n      var count = Math.floor(value + 0.5);\n\n      if (count < 1) {\n        count = 1;\n      } else if (count > 8) {\n        count = 8;\n      }\n\n      var offset = Math.floor(i / 2);\n\n      if ((i & 0x01) === 0) {\n        oddCounts[offset] = count;\n        oddRoundingErrors[offset] = value - count;\n      } else {\n        evenCounts[offset] = count;\n        evenRoundingErrors[offset] = value - count;\n      }\n    }\n\n    this.adjustOddEvenCounts(outsideChar, numModules);\n    var oddSum = 0;\n    var oddChecksumPortion = 0;\n\n    for (var i = oddCounts.length - 1; i >= 0; i--) {\n      oddChecksumPortion *= 9;\n      oddChecksumPortion += oddCounts[i];\n      oddSum += oddCounts[i];\n    }\n\n    var evenChecksumPortion = 0;\n    var evenSum = 0;\n\n    for (var i = evenCounts.length - 1; i >= 0; i--) {\n      evenChecksumPortion *= 9;\n      evenChecksumPortion += evenCounts[i];\n      evenSum += evenCounts[i];\n    }\n\n    var checksumPortion = oddChecksumPortion + 3 * evenChecksumPortion;\n\n    if (outsideChar) {\n      if ((oddSum & 0x01) !== 0 || oddSum > 12 || oddSum < 4) {\n        throw new NotFoundException_1.default();\n      }\n\n      var group = (12 - oddSum) / 2;\n      var oddWidest = RSS14Reader.OUTSIDE_ODD_WIDEST[group];\n      var evenWidest = 9 - oddWidest;\n      var vOdd = RSSUtils_1.default.getRSSvalue(oddCounts, oddWidest, false);\n      var vEven = RSSUtils_1.default.getRSSvalue(evenCounts, evenWidest, true);\n      var tEven = RSS14Reader.OUTSIDE_EVEN_TOTAL_SUBSET[group];\n      var gSum = RSS14Reader.OUTSIDE_GSUM[group];\n      return new DataCharacter_1.default(vOdd * tEven + vEven + gSum, checksumPortion);\n    } else {\n      if ((evenSum & 0x01) !== 0 || evenSum > 10 || evenSum < 4) {\n        throw new NotFoundException_1.default();\n      }\n\n      var group = (10 - evenSum) / 2;\n      var oddWidest = RSS14Reader.INSIDE_ODD_WIDEST[group];\n      var evenWidest = 9 - oddWidest;\n      var vOdd = RSSUtils_1.default.getRSSvalue(oddCounts, oddWidest, true);\n      var vEven = RSSUtils_1.default.getRSSvalue(evenCounts, evenWidest, false);\n      var tOdd = RSS14Reader.INSIDE_ODD_TOTAL_SUBSET[group];\n      var gSum = RSS14Reader.INSIDE_GSUM[group];\n      return new DataCharacter_1.default(vEven * tOdd + vOdd + gSum, checksumPortion);\n    }\n  };\n\n  RSS14Reader.prototype.findFinderPattern = function (row, rightFinderPattern) {\n    var counters = this.getDecodeFinderCounters();\n    counters[0] = 0;\n    counters[1] = 0;\n    counters[2] = 0;\n    counters[3] = 0;\n    var width = row.getSize();\n    var isWhite = false;\n    var rowOffset = 0;\n\n    while (rowOffset < width) {\n      isWhite = !row.get(rowOffset);\n\n      if (rightFinderPattern === isWhite) {\n        // Will encounter white first when searching for right finder pattern\n        break;\n      }\n\n      rowOffset++;\n    }\n\n    var counterPosition = 0;\n    var patternStart = rowOffset;\n\n    for (var x = rowOffset; x < width; x++) {\n      if (row.get(x) !== isWhite) {\n        counters[counterPosition]++;\n      } else {\n        if (counterPosition === 3) {\n          if (AbstractRSSReader_1.default.isFinderPattern(counters)) {\n            return [patternStart, x];\n          }\n\n          patternStart += counters[0] + counters[1];\n          counters[0] = counters[2];\n          counters[1] = counters[3];\n          counters[2] = 0;\n          counters[3] = 0;\n          counterPosition--;\n        } else {\n          counterPosition++;\n        }\n\n        counters[counterPosition] = 1;\n        isWhite = !isWhite;\n      }\n    }\n\n    throw new NotFoundException_1.default();\n  };\n\n  RSS14Reader.prototype.parseFoundFinderPattern = function (row, rowNumber, right, startEnd) {\n    // Actually we found elements 2-5\n    var firstIsBlack = row.get(startEnd[0]);\n    var firstElementStart = startEnd[0] - 1; // Locate element 1\n\n    while (firstElementStart >= 0 && firstIsBlack !== row.get(firstElementStart)) {\n      firstElementStart--;\n    }\n\n    firstElementStart++;\n    var firstCounter = startEnd[0] - firstElementStart; // Make 'counters' hold 1-4\n\n    var counters = this.getDecodeFinderCounters();\n    var copy = new Array(counters.length);\n    System_1.default.arraycopy(counters, 0, copy, 1, counters.length - 1);\n    copy[0] = firstCounter;\n    var value = this.parseFinderValue(copy, RSS14Reader.FINDER_PATTERNS);\n    var start = firstElementStart;\n    var end = startEnd[1];\n\n    if (right) {\n      // row is actually reversed\n      start = row.getSize() - 1 - start;\n      end = row.getSize() - 1 - end;\n    }\n\n    return new FinderPattern_1.default(value, [firstElementStart, startEnd[1]], start, end, rowNumber);\n  };\n\n  RSS14Reader.prototype.adjustOddEvenCounts = function (outsideChar, numModules) {\n    var oddSum = MathUtils_1.default.sum(new Int32Array(this.getOddCounts()));\n    var evenSum = MathUtils_1.default.sum(new Int32Array(this.getEvenCounts()));\n    var incrementOdd = false;\n    var decrementOdd = false;\n    var incrementEven = false;\n    var decrementEven = false;\n\n    if (outsideChar) {\n      if (oddSum > 12) {\n        decrementOdd = true;\n      } else if (oddSum < 4) {\n        incrementOdd = true;\n      }\n\n      if (evenSum > 12) {\n        decrementEven = true;\n      } else if (evenSum < 4) {\n        incrementEven = true;\n      }\n    } else {\n      if (oddSum > 11) {\n        decrementOdd = true;\n      } else if (oddSum < 5) {\n        incrementOdd = true;\n      }\n\n      if (evenSum > 10) {\n        decrementEven = true;\n      } else if (evenSum < 4) {\n        incrementEven = true;\n      }\n    }\n\n    var mismatch = oddSum + evenSum - numModules;\n    var oddParityBad = (oddSum & 0x01) === (outsideChar ? 1 : 0);\n    var evenParityBad = (evenSum & 0x01) === 1;\n\n    if (mismatch === 1) {\n      if (oddParityBad) {\n        if (evenParityBad) {\n          throw new NotFoundException_1.default();\n        }\n\n        decrementOdd = true;\n      } else {\n        if (!evenParityBad) {\n          throw new NotFoundException_1.default();\n        }\n\n        decrementEven = true;\n      }\n    } else if (mismatch === -1) {\n      if (oddParityBad) {\n        if (evenParityBad) {\n          throw new NotFoundException_1.default();\n        }\n\n        incrementOdd = true;\n      } else {\n        if (!evenParityBad) {\n          throw new NotFoundException_1.default();\n        }\n\n        incrementEven = true;\n      }\n    } else if (mismatch === 0) {\n      if (oddParityBad) {\n        if (!evenParityBad) {\n          throw new NotFoundException_1.default();\n        } // Both bad\n\n\n        if (oddSum < evenSum) {\n          incrementOdd = true;\n          decrementEven = true;\n        } else {\n          decrementOdd = true;\n          incrementEven = true;\n        }\n      } else {\n        if (evenParityBad) {\n          throw new NotFoundException_1.default();\n        } // Nothing to do!\n\n      }\n    } else {\n      throw new NotFoundException_1.default();\n    }\n\n    if (incrementOdd) {\n      if (decrementOdd) {\n        throw new NotFoundException_1.default();\n      }\n\n      AbstractRSSReader_1.default.increment(this.getOddCounts(), this.getOddRoundingErrors());\n    }\n\n    if (decrementOdd) {\n      AbstractRSSReader_1.default.decrement(this.getOddCounts(), this.getOddRoundingErrors());\n    }\n\n    if (incrementEven) {\n      if (decrementEven) {\n        throw new NotFoundException_1.default();\n      }\n\n      AbstractRSSReader_1.default.increment(this.getEvenCounts(), this.getOddRoundingErrors());\n    }\n\n    if (decrementEven) {\n      AbstractRSSReader_1.default.decrement(this.getEvenCounts(), this.getEvenRoundingErrors());\n    }\n  };\n\n  RSS14Reader.OUTSIDE_EVEN_TOTAL_SUBSET = [1, 10, 34, 70, 126];\n  RSS14Reader.INSIDE_ODD_TOTAL_SUBSET = [4, 20, 48, 81];\n  RSS14Reader.OUTSIDE_GSUM = [0, 161, 961, 2015, 2715];\n  RSS14Reader.INSIDE_GSUM = [0, 336, 1036, 1516];\n  RSS14Reader.OUTSIDE_ODD_WIDEST = [8, 6, 4, 3, 1];\n  RSS14Reader.INSIDE_ODD_WIDEST = [2, 4, 6, 8];\n  RSS14Reader.FINDER_PATTERNS = [[3, 8, 2, 1], [3, 5, 5, 1], [3, 3, 7, 1], [3, 1, 9, 1], [2, 7, 4, 1], [2, 5, 6, 1], [2, 3, 8, 1], [1, 5, 7, 1], [1, 3, 9, 1]];\n  return RSS14Reader;\n}(AbstractRSSReader_1.default);\n\nexports.default = RSS14Reader;","map":{"version":3,"mappings":"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","names":["__extends","_this","RSS14Reader","rowNumber","row","hints","leftPair","decodePair","addOrTally","possibleLeftPairs","reverse","rightPair","possibleRightPairs","_d","left","getCount","_f","right","checkChecksum","constructResult","NotFoundException_1","possiblePairs","pair","found","possiblePairs_1_1","other","getValue","incrementCount","push","length","symbolValue","text","String","toString","buffer","StringBuilder_1","i","append","checkDigit","digit","charAt","charCodeAt","leftPoints","getFinderPattern","getResultPoints","rightPoints","Result_1","BarcodeFormat_1","RSS_14","Date","getTime","checkValue","getChecksumPortion","targetCheckValue","startEnd","findFinderPattern","pattern","parseFoundFinderPattern","resultPointCallback","get","DecodeHintType_1","NEED_RESULT_POINT_CALLBACK","center","getSize","foundPossibleResultPoint","ResultPoint_1","outside","decodeDataCharacter","inside","Pair_1","err","outsideChar","counters","getDataCharacterCounters","x","OneDReader_1","recordPatternInReverse","getStartEnd","recordPattern","j","temp","numModules","elementWidth","MathUtils_1","sum","Int32Array","oddCounts","getOddCounts","evenCounts","getEvenCounts","oddRoundingErrors","getOddRoundingErrors","evenRoundingErrors","getEvenRoundingErrors","value","count","Math","floor","offset","adjustOddEvenCounts","oddSum","oddChecksumPortion","evenChecksumPortion","evenSum","checksumPortion","group","oddWidest","OUTSIDE_ODD_WIDEST","evenWidest","vOdd","RSSUtils_1","getRSSvalue","vEven","tEven","OUTSIDE_EVEN_TOTAL_SUBSET","gSum","OUTSIDE_GSUM","DataCharacter_1","INSIDE_ODD_WIDEST","tOdd","INSIDE_ODD_TOTAL_SUBSET","INSIDE_GSUM","rightFinderPattern","getDecodeFinderCounters","width","isWhite","rowOffset","counterPosition","patternStart","AbstractRSSReader_1","isFinderPattern","firstIsBlack","firstElementStart","firstCounter","copy","Array","System_1","arraycopy","parseFinderValue","FINDER_PATTERNS","start","end","FinderPattern_1","incrementOdd","decrementOdd","incrementEven","decrementEven","mismatch","oddParityBad","evenParityBad","increment","decrement"],"sources":["../../../../src/core/oned/rss/RSS14Reader.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}