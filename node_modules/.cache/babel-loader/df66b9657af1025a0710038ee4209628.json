{"ast":null,"code":"\"use strict\";\n/*\n* Copyright 2013 ZXing authors\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // package com.google.zxing.pdf417.decoder;\n// import com.google.zxing.NotFoundException;\n\nvar NotFoundException_1 = require(\"../../NotFoundException\"); // import com.google.zxing.ResultPoint;\n\n\nvar ResultPoint_1 = require(\"../../ResultPoint\");\n/**\n * @author Guenther Grau\n */\n\n\nvar BoundingBox =\n/** @class */\nfunction () {\n  function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {\n    if (image instanceof BoundingBox) {\n      this.constructor_2(image);\n    } else {\n      this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);\n    }\n  }\n  /**\n   *\n   * @param image\n   * @param topLeft\n   * @param bottomLeft\n   * @param topRight\n   * @param bottomRight\n   *\n   * @throws NotFoundException\n   */\n\n\n  BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {\n    var leftUnspecified = topLeft == null || bottomLeft == null;\n    var rightUnspecified = topRight == null || bottomRight == null;\n\n    if (leftUnspecified && rightUnspecified) {\n      throw new NotFoundException_1.default();\n    }\n\n    if (leftUnspecified) {\n      topLeft = new ResultPoint_1.default(0, topRight.getY());\n      bottomLeft = new ResultPoint_1.default(0, bottomRight.getY());\n    } else if (rightUnspecified) {\n      topRight = new ResultPoint_1.default(image.getWidth() - 1, topLeft.getY());\n      bottomRight = new ResultPoint_1.default(image.getWidth() - 1, bottomLeft.getY());\n    }\n\n    this.image = image;\n    this.topLeft = topLeft;\n    this.bottomLeft = bottomLeft;\n    this.topRight = topRight;\n    this.bottomRight = bottomRight;\n    this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));\n    this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));\n    this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));\n    this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));\n  };\n\n  BoundingBox.prototype.constructor_2 = function (boundingBox) {\n    this.image = boundingBox.image;\n    this.topLeft = boundingBox.getTopLeft();\n    this.bottomLeft = boundingBox.getBottomLeft();\n    this.topRight = boundingBox.getTopRight();\n    this.bottomRight = boundingBox.getBottomRight();\n    this.minX = boundingBox.getMinX();\n    this.maxX = boundingBox.getMaxX();\n    this.minY = boundingBox.getMinY();\n    this.maxY = boundingBox.getMaxY();\n  };\n  /**\n   * @throws NotFoundException\n   */\n\n\n  BoundingBox.merge = function (leftBox, rightBox) {\n    if (leftBox == null) {\n      return rightBox;\n    }\n\n    if (rightBox == null) {\n      return leftBox;\n    }\n\n    return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);\n  };\n  /**\n   * @throws NotFoundException\n   */\n\n\n  BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {\n    var newTopLeft = this.topLeft;\n    var newBottomLeft = this.bottomLeft;\n    var newTopRight = this.topRight;\n    var newBottomRight = this.bottomRight;\n\n    if (missingStartRows > 0) {\n      var top_1 = isLeft ? this.topLeft : this.topRight;\n      var newMinY = Math.trunc(top_1.getY() - missingStartRows);\n\n      if (newMinY < 0) {\n        newMinY = 0;\n      }\n\n      var newTop = new ResultPoint_1.default(top_1.getX(), newMinY);\n\n      if (isLeft) {\n        newTopLeft = newTop;\n      } else {\n        newTopRight = newTop;\n      }\n    }\n\n    if (missingEndRows > 0) {\n      var bottom = isLeft ? this.bottomLeft : this.bottomRight;\n      var newMaxY = Math.trunc(bottom.getY() + missingEndRows);\n\n      if (newMaxY >= this.image.getHeight()) {\n        newMaxY = this.image.getHeight() - 1;\n      }\n\n      var newBottom = new ResultPoint_1.default(bottom.getX(), newMaxY);\n\n      if (isLeft) {\n        newBottomLeft = newBottom;\n      } else {\n        newBottomRight = newBottom;\n      }\n    }\n\n    return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);\n  };\n\n  BoundingBox.prototype.getMinX = function () {\n    return this.minX;\n  };\n\n  BoundingBox.prototype.getMaxX = function () {\n    return this.maxX;\n  };\n\n  BoundingBox.prototype.getMinY = function () {\n    return this.minY;\n  };\n\n  BoundingBox.prototype.getMaxY = function () {\n    return this.maxY;\n  };\n\n  BoundingBox.prototype.getTopLeft = function () {\n    return this.topLeft;\n  };\n\n  BoundingBox.prototype.getTopRight = function () {\n    return this.topRight;\n  };\n\n  BoundingBox.prototype.getBottomLeft = function () {\n    return this.bottomLeft;\n  };\n\n  BoundingBox.prototype.getBottomRight = function () {\n    return this.bottomRight;\n  };\n\n  return BoundingBox;\n}();\n\nexports.default = BoundingBox;","map":{"version":3,"mappings":"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","names":["image","topLeft","bottomLeft","topRight","bottomRight","BoundingBox","constructor_2","constructor_1","leftUnspecified","rightUnspecified","NotFoundException_1","ResultPoint_1","getY","getWidth","minX","Math","trunc","min","getX","maxX","max","minY","maxY","boundingBox","getTopLeft","getBottomLeft","getTopRight","getBottomRight","getMinX","getMaxX","getMinY","getMaxY","leftBox","rightBox","missingStartRows","missingEndRows","isLeft","newTopLeft","newBottomLeft","newTopRight","newBottomRight","top_1","newMinY","newTop","bottom","newMaxY","getHeight","newBottom"],"sources":["../../../../src/core/pdf417/decoder/BoundingBox.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}